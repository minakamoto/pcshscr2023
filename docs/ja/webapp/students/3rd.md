# ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã®ã‚·ãƒ³ãƒ—ãƒ«ãªå¤©æ°—äºˆå ±ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³

## ä½œã‚‹ã‚‚ã®

[2nd](./2nd.md)ã§ä½œã£ãŸã‚·ãƒ³ãƒ—ãƒ«ãªå¤©æ°—äºˆå ±ã‚¢ãƒ—ãƒªã®ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã‚’é–‹ç™ºã—ã¾ã™ã€‚  
æ©Ÿèƒ½ã‚„è¦‹ãŸç›®ã€æ¡ä»¶ã‚„æ³¨æ„äº‹é …ã¯ã»ã¼åŒã˜ã§ã™ã€‚

## ä¸»ãªæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- [Reac Native](https://reactnative.dev/)
  - Reactã‚’ãƒã‚¤ãƒ†ã‚£ãƒ–UIã«é©ç”¨ã—ãŸã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ (Android/iOS/Webãªã©)é–‹ç™ºãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
    - Webé–‹ç™ºã®çŸ¥è­˜ã‚„çµŒé¨“ã‚’æ´»ã‹ã—ã¦ã€ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
- [EXPO](https://expo.dev/)
  - React Nativeã®é–‹ç™ºã‚’ã‚ˆã‚Šç°¡å˜ã«ã€ã‚ˆã‚Šæ—©ãã™ã‚‹ãƒ„ãƒ¼ãƒ«
- [Typescript](https://www.typescriptlang.org/)
  - JavaScript with syntax for types

## å®Ÿè£…

### React Native/Expoè¨­å®šæ¸ˆã¿ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ã®IDEã‚’é–‹ã

React Native/Expoè¨­å®šæ¸ˆã¿ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ã®IDE [Snack](https://snack.expo.dev/)ã‚’é–‹ã„ã¦ãã ã•ã„ã€‚

Snackã¯ã€å·¦ãƒšã‚¤ãƒ³ã«ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€çœŸã‚“ä¸­ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†ã€å³ãƒšã‚¤ãƒ³ã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã®æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚å³ãƒšã‚¤ãƒ³ã®ä¸Šéƒ¨ã§ç¢ºèªã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã®ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’é¸ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚

![Default display on snack](../../../static/img/students/3rd/default_display.png)  

å‚è€ƒã«ã€Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®å ´åˆã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚
![Default display on android emulator](../../../static/img/students/3rd/default_display_android.png)  
Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã‚’é¸ã³ã€`Tap to play`ã‚’æŠ¼ã™ã¨ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠã‚ˆã³èµ·å‹•ãŒå§‹ã¾ã‚Šã¾ã™ã€‚(`Que...`ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºãŸã‚‰ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠã‚ˆã³èµ·å‹•ãŒå§‹ã¾ã‚‹ã¾ã§ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚)

TIPS/æ³¨æ„äº‹é …:  

- Snackã«ã¤ã„ã¦
  - Snackã¯ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹ã®IDEãªã®ã§ã€PCã«IDEã‚„ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ï¼ˆAndroidãªã©ã®ãƒ‡ãƒã‚¤ã‚¹ã®ä»®æƒ³ã®å®Ÿè¡Œç’°å¢ƒï¼‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚„è¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚
  - ç°¡å˜ã«ã™ãã«é–‹ç™ºä½“é¨“ã‚’å¾—ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ãªã®ã§ã€ãƒ•ãƒ«ã‚¹ãƒšãƒƒã‚¯ã®æ©Ÿèƒ½é–‹ç™ºã«ã¯å‘ãã¾ã›ã‚“ã€‚
    - æœ¬æ ¼çš„ãªå®Ÿè£…ã‚’ã™ã‚‹å ´åˆã¯ã€ãŠä½¿ã„ã®PCã«é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
    - ç’°å¢ƒæ§‹ç¯‰ã«å½“ãŸã£ã¦ã¯ã€[React Nativeå…¬å¼ã‚µã‚¤ãƒˆ](https://reactnative.dev/docs/environment-setup)ã‚‚ã—ãã¯[Expoå…¬å¼ã‚µã‚¤ãƒˆ](https://docs.expo.dev/get-started/installation/)ã‚’è¦‹ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚

### å‹ã‚’å®šç¾©ã™ã‚‹

å¤–éƒ¨APIã§è¿”å´ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å¿…è¦ãªå‹ã‚’å®šç¾©ã—ã¾ã™ã€‚  
([2nd](2nd.md#å‹ã‚’å®šç¾©ã™ã‚‹)ã¨ã¾ã£ãŸãåŒã˜ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚)

å·¦ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã‚ã‚‹Projectã®å³ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€`types/weather.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚  

![Screen when creating file on snack](../../../static/img/students/3rd/screen_file_creating.png)  
`types/weather.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€ãã®å†…å®¹ã‚’ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¾ã™ã€‚  

```ts
// define type
export type WeatherData = {
  latitude: number;
  longitude: number;
  generationtime_ms: number;
  utc_offset_seconds: number;
  timezone: string;
  timezone_abbreviation: string;
  elevation: number;
  current_units: {
    time: string;
    interval: string;
    temperature_2m: string;
    relative_humidity_2m: string;
    rain: string;
    weather_code: string;
  };
  current: {
    time: string;
    interval: number;
    temperature_2m: number;
    relative_humidity_2m: number;
    rain: number;
    weather_code: number;
  };
  hourly_units: {
    time: string;
    temperature_2m: string;
    relative_humidity_2m: string;
    precipitation_probability: string;
    weather_code: string;
  };
  hourly: {
    time: string[];
    temperature_2m: number[];
    relative_humidity_2m: number[];
    precipitation_probability: number[];
    weather_code: number[];
  };
};

```

### Utilityã‚’å®Ÿè£…ã™ã‚‹

å¤–éƒ¨APIã§è¿”å´ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å¤©æ°—ã‚³ãƒ¼ãƒ‰ã‚’çµµæ–‡å­—ã«å¤‰æ›ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚  
([2nd](2nd.md#utilityã‚’å®Ÿè£…ã™ã‚‹)ã¨ã¾ã£ãŸãåŒã˜ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚)

å·¦ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã‚ã‚‹Projectã®å³ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€`utils/weather.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚  
`utils/weather.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€ãã®å†…å®¹ã‚’ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¾ã™ã€‚  

```ts
// mapping of weather codes returned in API responses and emojis
export const weatherCodeToEmoji: Record<number, string> = {
  0: "ğŸŒ", // Clear sky
  1: "ğŸŒ¤ï¸", // Mainly clear, partly cloudy, and overcast
  2: "ğŸŒ¤ï¸", // Mainly clear, partly cloudy, and overcast
  3: "ğŸŒ¤ï¸", // Mainly clear, partly cloudy, and overcast
  45: "ğŸŒ«ï¸", // Fog and depositing rime fog
  48: "ğŸŒ«ï¸", // Fog and depositing rime fog
  51: "ğŸŒ§ï¸", // Drizzle: Light, moderate, and dense intensity
  53: "ğŸŒ§ï¸", // Drizzle: Light, moderate, and dense intensity
  55: "ğŸŒ§ï¸", // Drizzle: Light, moderate, and dense intensity
  56: "ğŸŒ§ï¸", // Freezing Drizzle: Light and dense intensity
  57: "ğŸŒ§ï¸", // Freezing Drizzle: Light and dense intensity
  61: "ğŸŒ§ï¸", // Rain: Slight, moderate and heavy intensity
  63: "ğŸŒ§ï¸", // Rain: Slight, moderate and heavy intensity
  65: "ğŸŒ§ï¸", // Rain: Slight, moderate and heavy intensity
  66: "ğŸŒ§ï¸", // Freezing Rain: Light and heavy intensity
  67: "ğŸŒ§ï¸", // Freezing Rain: Light and heavy intensity
  71: "ğŸŒ¨ï¸", // Snow fall: Slight, moderate, and heavy intensity
  73: "ğŸŒ¨ï¸", // Snow fall: Slight, moderate, and heavy intensity
  75: "ğŸŒ¨ï¸", // Snow fall: Slight, moderate, and heavy intensity
  77: "ğŸŒ¨ï¸", // Snow grains
  80: "ğŸŒ§ï¸", // Rain showers: Slight, moderate, and violent
  81: "ğŸŒ§ï¸", // Rain showers: Slight, moderate, and violent
  82: "ğŸŒ§ï¸", // Rain showers: Slight, moderate, and violent
  85: "ğŸŒ¨ï¸", // Snow showers slight and heavy
  86: "ğŸŒ¨ï¸", // Snow showers slight and heavy
  95: "â›ˆï¸", // Thunderstorm: Slight or moderate
  96: "â›ˆï¸", // Thunderstorm with slight and heavy hail
  99: "â›ˆï¸", // Thunderstorm with slight and heavy hail
};

```

### å¤©æ°—äºˆå ±ã‚¢ãƒ—ãƒªã‚’å®Ÿè£…ã™ã‚‹

å·¦ã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã‚ã‚‹Projectã®`App.js`ãƒ•ã‚¡ã‚¤ãƒ«ã®å·¦ã®ã‚¹ãƒªãƒ¼ãƒ‰ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ãã€`Rename to App.tsx`ã‚’æŠ¼ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å¤‰æ›´ã—ã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã®å¤‰æ›´å¾Œã€ãã®å†…å®¹ã‚’ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ç½®ãæ›ãˆã¾ã™ã€‚  

```tsx
import React, { useEffect, useState, useRef } from "react";
import {
  StyleSheet,
  Text,
  View,
  ScrollView,
  ActivityIndicator,
  Linking,
} from "react-native";
import { WeatherData } from "./types/weather";
import { weatherCodeToEmoji } from "./utils/weather";
import * as Location from "expo-location";

export default function App() {
  const now = new Date();
  now.setMinutes(0);
  const currentTime = now.getHours(); // get current time (0-23)
  const currentDate = now.toLocaleDateString("en-US", {
    year: "numeric",
    month: "short",
    day: "numeric",
  });

  const [weatherData, setWeatherData] = useState<WeatherData | null>(null);
  const [errorMessage, setErrorMessage] = useState("");
  const scrollViewRef = useRef<ScrollView>(null);
  const [isLoading, setLoading] = useState(true);

  useEffect(() => {
    (async () => {
      let { status } = await Location.requestForegroundPermissionsAsync();
      if (status !== "granted") {
        setErrorMessage(
          "Failed to get location information. Please check your device settings."
        );
        return;
      }

      // On Snack, using the Location.getCurrentPositionAsync method would not get a response, so the Location.getLastKnownPositionAsync method was used.
      // It is usually better to use Location.getCurrentPositionAsync.
      // See. https://docs.expo.dev/versions/latest/sdk/location/#locationgetlastknownpositionasyncoptions
      const location = await Location.getLastKnownPositionAsync({});

      const { latitude, longitude } = location?.coords || {
        // If the current location could not be obtained, set the location of Tokyo Tower.
        latitude: 35.6586414931039,
        longitude: 139.74540071013897,
      };
      fetch(
        `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&timezone=auto&current=temperature_2m,relative_humidity_2m,rain,weather_code&hourly=temperature_2m,relative_humidity_2m,precipitation_probability,rain,weather_code&forecast_days=1`
      )
        .then((response) => response.json())
        .then((data) => setWeatherData(data))
        .catch((error) => setErrorMessage(error.message))
        .finally(() => setLoading(false));
    })();
  }, []);

  const handleLayout = () => {
    const columnIndex = currentTime;
    const columnWidth = 65; // set the width of each column
    const scrollPosition = columnIndex * columnWidth; // calculate scroll position
    scrollViewRef.current?.scrollTo({
      x: scrollPosition,
      y: 0,
      animated: true,
    });
  };

  if (errorMessage) {
    return (
      <View style={styles.container}>
        <Text>Error: {errorMessage}</Text>
      </View>
    );
  }

  return (
    <>
      {isLoading ? (
        <ActivityIndicator size="large" style={styles.indicatorContainer} />
      ) : (
        <View style={styles.container}>
          <Text style={styles.title}>Weather Forecast</Text>
          {weatherData && (
            <View>
              <Text style={styles.latLngLabel}>
                ğŸ—ºï¸ Lat: {weatherData.latitude} Lng: {weatherData.longitude}
              </Text>
              <Text style={styles.subTitle}>Currently:</Text>
              <View style={styles.currentContainer}>
                <Text style={styles.emojiLabel}>
                  {weatherCodeToEmoji[weatherData.current.weather_code]}
                </Text>
                <View style={styles.currentLabel}>
                  <Text>ğŸŒ¡ï¸{weatherData.current.temperature_2m}Â°C </Text>
                  <Text>
                    ğŸ’§
                    {weatherData.current.relative_humidity_2m}%{" "}
                  </Text>
                  <Text>â˜”{weatherData.current.rain}mm </Text>
                </View>
              </View>
              <Text style={styles.subTitle}>Houly for {currentDate}</Text>
              <ScrollView
                horizontal={true}
                style={styles.scrollContainer}
                ref={scrollViewRef}
                onLayout={handleLayout}
              >
                <View style={styles.table}>
                  <View style={styles.row}>
                    {weatherData.hourly.time.map((time, index) => {
                      const date = new Date(time);
                      const formattedTime = date.toLocaleTimeString([], {
                        hour12: false,
                        hour: "2-digit",
                        minute: "2-digit",
                      });
                      return (
                        <Text key={index} style={styles.cell}>
                          {formattedTime}
                        </Text>
                      );
                    })}
                  </View>
                  <View style={styles.row}>
                    {weatherData.hourly.temperature_2m.map((temp, index) => (
                      <Text key={index} style={styles.cell}>
                        {temp}Â°C
                      </Text>
                    ))}
                  </View>
                  <View style={styles.row}>
                    {weatherData.hourly.relative_humidity_2m.map(
                      (humidity, index) => (
                        <Text key={index} style={styles.cell}>
                          <Text>ğŸ’§</Text>
                          {humidity}%
                        </Text>
                      )
                    )}
                  </View>
                  <View style={styles.row}>
                    {weatherData.hourly.precipitation_probability.map(
                      (probability, index) => (
                        <Text key={index} style={styles.cell}>
                          <Text>â˜”</Text>
                          {probability}%
                        </Text>
                      )
                    )}
                  </View>
                  <View style={styles.row}>
                    {weatherData.hourly.weather_code.map((code, index) => (
                      <Text key={index} style={styles.cell}>
                        {weatherCodeToEmoji[code] || "â­"}
                      </Text>
                    ))}
                  </View>
                </View>
              </ScrollView>
              <Text
                style={styles.linkLabel}
                onPress={() => Linking.openURL("https://open-meteo.com/")}
              >
                Weather data by Open-Meteo.com
              </Text>
            </View>
          )}
        </View>
      )}
    </>
  );
}

const styles = StyleSheet.create({
  indicatorContainer: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
  },
  container: {
    flex: 1,
    backgroundColor: "#fff",
    marginHorizontal: 20,
    paddingVertical: 50,
    paddingHorizontal: 10,
  },
  title: {
    paddingTop: 10,
    fontSize: 24,
    fontWeight: "bold",
  },
  subTitle: {
    fontSize: 18,
    paddingTop: 20,
    paddingBottom: 10,
  },
  latLngLabel: {
    paddingTop: 20,
    color: "grey",
  },
  emojiLabel: {
    fontSize: 36,
    margin: 10,
  },
  currentContainer: {
    flexDirection: "row",
    flexWrap: "wrap",
    marginBottom: 10,
  },
  currentLabel: {
    justifyContent: "space-around",
  },
  scrollContainer: {
    paddingTop: 5,
    marginTop: 5,
    marginBottom: 10,
  },
  table: {
    flexDirection: "column",
    borderTopColor: "gainsboro",
    borderTopWidth: 0.2,
  },
  row: {
    flexDirection: "row",
    borderBottomColor: "gainsboro",
    borderBottomWidth: 0.2,
  },
  cell: {
    padding: 10,
    width: 65,
    textAlign: "center",
    borderRightColor: "gainsboro",
    borderRightWidth: 0.2,
    borderLeftColor: "gainsboro",
    borderLeftWidth: 0.2,
    borderStyle: "solid",
  },
  linkLabel: {
    paddingTop: 10,
    color: "grey",
  },
});


```

ä»¥ä¸‹ã®ç”»é¢ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸(`expo-location`ãŒä¾å­˜è¨­å®šã«å®šç¾©ã•ã‚Œã¦ãªã„ã“ã¨ã«å¯¾ã™ã‚‹ã‚¨ãƒ©ãƒ¼)ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¾“ã£ã¦`Add dependency`ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚

![Dependency Error Message on snack](../../../static/img/students/3rd/dependency_error_message.png)

Androidã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®å ´åˆã€å®Ÿè£…å¾Œã¯ã€ä»¥ä¸‹ã®ç”»é¢ã«ãªã£ã¦ã„ã¾ã™ã€‚  

![Screen after development on snack](../../../static/img/students/3rd/screen_after_development.png)

æ³¨æ„:  

- Snackä¸Šã®ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã¯ä»®æƒ³ãƒ‡ãƒã‚¤ã‚¹ã®ãŸã‚ã€ã‚ãªãŸã®ç¾åœ¨åœ°ã‚„æ™‚åˆ»ã¨ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
  - ç¾åœ¨åœ°ã‚„æ™‚åˆ»ã¯ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã®æ™‚åˆ»ã‚„åœ°å›³ã€è¨­å®šã§ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
  - ã‚‚ã—ã€ã‚ãªãŸã®ç’°å¢ƒã§ç¢ºèªã—ãŸã„å ´åˆã¯ã€ã”è‡ªèº«ã®ãƒ‡ãƒã‚¤ã‚¹(Android/iOSãªã©)ã«[Expo Go](https://expo.dev/client)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€Snackä¸Šã®`My Device`ã®QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ãã ã•ã„ã€‚
    - ã‚ãªãŸè‡ªèº«ã®ãƒ‡ãƒã‚¤ã‚¹ã§ç¢ºèªã™ã‚‹å ´åˆã‹ã¤ã€ã‚ˆã‚Šæ­£ç¢ºãªç¾åœ¨ä½ç½®ã‚’å–å¾—ã—ãŸã„å ´åˆã€ã‚³ãƒ¼ãƒ‰ã‚’ä»¥ä¸‹ã®ã¨ãŠã‚Šå¤‰æ›´ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚
      - before

        ```ts
        const location = await Location.getLastKnownPositionAsync({});
        const { latitude, longitude } = location?.coords || {
          latitude: 35.6586414931039,
          longitude: 139.74540071013897,
        };
        ```

      - after

        ```ts
        const location = await Location.getCurrentPositionAsync({});
        const { latitude, longitude } = location?.coords;
        ```

- å‹•ä½œç¢ºèªã«ãŠã„ã¦ã€ä½ç½®æƒ…å ±ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚
  - [2nd](2nd.md#å¤©æ°—äºˆå ±ã‚¢ãƒ—ãƒªã‚’å®Ÿè£…ã™ã‚‹)ã¨åŒæ§˜ã®ãŸã‚ã€å‰²æ„›
- APIã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŒ–ã«ã¤ã„ã¦
  - [2nd](2nd.md#å¤©æ°—äºˆå ±ã‚¢ãƒ—ãƒªã‚’å®Ÿè£…ã™ã‚‹)ã¨åŒæ§˜ã®ãŸã‚ã€å‰²æ„›

### å‹•ä½œç¢ºèª

å³å´ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã«ã¦ã€å¤©æ°—äºˆå ±ã‚¢ãƒ—ãƒªã®å‹•ä½œç¢ºèªã‚’ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

- ç°¡å˜ãªæ©Ÿèƒ½ä»•æ§˜
  - [2nd](2nd.md#å‹•ä½œç¢ºèª)ã¨åŒæ§˜ã®ãŸã‚ã€å‰²æ„›

### çµ‚ã‚ã‚Šã«

ã“ã‚Œã§ãƒãƒ³ã‚ºã‚ªãƒ³ã¯çµ‚ã‚ã‚Šã§ã™ã€‚  
ã‚³ãƒ¼ãƒ‰ã¯[ã“ã“](https://github.com/minakamoto/pcshscr2023/tree/main/src/webapp/30min-exp-web-tech/3rd/weather-forecast)ã‹ã‚‰ç¢ºèªã§ãã¾ã™ã€‚  
[Snack](https://snack.expo.dev/1KahnBN9w)ä¸Šã‹ã‚‰ã‚‚ç¢ºèªã§ãã¾ã™ã€‚
